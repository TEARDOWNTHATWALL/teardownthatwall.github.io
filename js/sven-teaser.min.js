/*
 Copyright (c) 2017, Sven Creations. All rights reserved.
 This work is subject to the terms at http://codecanyon.net/licenses/standard

 @requires jQuery v1.7 or later (tested on 1.11.2)
 @author Sven Creations, svencreations@gmail.com
*/
'use strict';(function(a){a.svenPlugin=function(b,y){function x(t,e,f){t=new a.BigVideo({useFlashForFirefox:!1,container:I,doLoop:t});t.init();t.show(e,{ambient:f});return t}function S(t,e,f,c,d){e.each(function(p,Ra){if(p==t||g.preloadScenes){var h=a(this).data(),A=g.preloadScenes?m[l]:new TimelineMax({paused:!0});if(!h.sceneVideo&&h.sceneImage||w&&h.sceneImage)h.trans=h.trans?h.trans:"fade-in-bg";h.alignment||(h.alignment="center-center");h.pursueVideo||(h.pursueVideo="yes");h.pursueImage||(h.pursueImage=
"no");w&&h.mobileAlignment&&(h.alignment=h.mobileAlignment);h.trans||(h.trans="none");w&&h.mobileTrans&&(h.trans=h.mobileTrans);"undefined"==typeof h.freezeTime&&(h.freezeTime=g.globalFreeze);"undefined"==typeof h.transDur&&(h.transDur="default");var J,k="right-top top-right right-bottom bottom-right right-center center-right".split(" ");J=-1!="left-top top-left left-bottom bottom-left left-center center-left".split(" ").indexOf(h.alignment)?"halign-left":-1!=k.indexOf(h.alignment)?"halign-right":
"halign-center";k=a(this).find(".content-container");k.wrap("<div class='sven-scene "+J+"'><div class='centered "+h.alignment+"'></div></div>");J=k.find("h1");p==f-1&&(h.outDur="none",Ba=a(this).attr("id"));var u=a(this).prev();qb(a(this),p,u,h,A);rb(a(this),p,h,k,J,A);g.preloadScenes||(TweenMax.delayedCall(g.queueDelay,S,[t+1,e,f]),m[l].add(A.play()));if(0==t&&!g.preloadScenes||g.preloadScenes)if(!na&&("video-bg"===r&&"youtube"===H||W&&0<ca.length))B.on("YTPReady YTPError",function(){a.isFunction(g.onTeaserReady)&&
g.onTeaserReady.call(b);a("body").addClass("set-overflow");"video-bg"===r&&"youtube"===H&&K.css({opacity:"0",visibility:"hidden"});c?(L="playing",q.play(d)):(L="paused",q.seek(d));a(this).off("YTPReady YTPError")});else a.isFunction(g.onTeaserReady)&&g.onTeaserReady.call(b),a("body").addClass("set-overflow"),"video-bg"===r&&"youtube"===H&&K.css({opacity:"0",visibility:"hidden"}),c?(L="playing",q.play(d)):(L="paused",q.seek(d));p!=f-1||g.preloadScenes||m[l].set({},{immediateRender:!1,onComplete:Sa})}})}
function Ta(){C="xhr"===g.preloadMethod?new createjs.LoadQueue:new createjs.LoadQueue(!1);C.setMaxConnections(500);C.on("progress",sb);C.on("fileload",tb);C.on("complete",ub);C.on("error",vb);C.on("fileerror",wb);M&&!Ua&&(C.installPlugin(createjs.Sound),"tag"==g.preloadMethod&&createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]),createjs.Sound.alternateExtensions=["ogg"],C.loadFile({id:oa,family:"sound-file",src:Va,loadTimeout:g.audioTimeout}));0<T.length&&C.loadManifest(T)}function xb(){pa=
!0;n=createjs.Sound.play(oa);n.loop=qa;isChrome&&!w&&(n.position=100);n.on("complete",Ca);Wa?m[l].paused()||ra?n.paused=!0:X():n.paused=!0}function sb(a){a=Math.round(100*a.loaded);g.triggerProgress&&b.trigger("PLProgress",[a]);a>=g.initAfter&&pa&&!sa&&ta()}function tb(a){var e=a.item;a=a.result;switch(e.family){case "splash-image":Xa.css("background-image","url("+e.src+")");break;case "preview-image":K.css("background-image","url("+e.src+")");break;case "sound-file":pa=!0;n=createjs.Sound.play(oa);
n.loop=qa;isChrome&&!w&&(n.position=100);n.on("complete",Ca);n.paused=!0;break;case "static-image":N=N.find("img");N.attr({src:e.src,width:a.naturalWidth,height:a.naturalHeight});break;case "scene-image":ua.find("."+e.id+" img").attr({src:e.src,width:a.naturalWidth,height:a.naturalHeight})}}function wb(a){console.log(a)}function vb(a){if("splash-image"==a.data.id){var e=C.getItem("splash-image");Xa.css("background-image","url("+e.src+")")}"sound-file"==a.data.family&&(pa=!0)}function ub(a){sa||ta()}
function ta(){sa+=1;g.autoStart?b.trigger("STUnMuted"):b.trigger("STMuted");if(isFontActive)q.init();else a(document).on("fontActive",function(){q.init()})}function X(){n.play();if("undefined"!==typeof n){var a=Math.round(n.duration),e=Math.round(1E3*m[l].totalTime().toFixed(1)/m[l].timeScale()),f=e;0>qa&&e>a&&(f=e%a);n.position=f;b.trigger("STUnMuted")}}function Ca(){U=!0;n.paused=!0;b.trigger("STMuted")}function da(){O&&k.pause();z&&z.YTPPause()}function va(){O&&k.play();z&&z.YTPPlay()}function yb(a){O&&
k.currentTime(a);z&&z.YTPSeekTo(a)}function Da(){V&&k.pause();Y&&z.YTPPause()}function Ea(){V&&k.play();Y&&z.YTPPlay()}function zb(b,e,f){e.data().sceneImage&&(e=C.getItem(e[0].id).src,K.css("background-image","url("+e+")"));K.css({opacity:"1",visibility:"visible"});if("html5"===f){V=!0;Y=!1;ea.css("visibility","visible");var c=a.grep(P,function(a){return a.sceneIndex==b});-1==k.currentSrc().indexOf(c[0].videoURL)&&O.show(c[0].videoURL);k.off("timeupdate");k.off("ended");k.muted(c[0].mute);k.currentTime(c[0].startAt);
if(Fa)1<P.length&&(Fa=!1),wa(),k.on("timeupdate",function(){if(0!=c[0].stopAt&&k.currentTime()>=c[0].stopAt||0==c[0].stopAt&&k.currentTime()>=k.duration())c[0].loop?(k.loop(!0),k.currentTime(c[0].startAt),k.play()):(V=!1,k.pause())}),k.play();else k.one("loadeddata",function(){wa();k.on("timeupdate",function(){if(0!=c[0].stopAt&&k.currentTime()>=c[0].stopAt||0==c[0].stopAt&&k.currentTime()>=k.duration())c[0].loop?(k.loop(!0),k.currentTime(c[0].startAt),k.play()):(V=!1,k.pause())});k.play()})}else V=
!1,Y=!0,c=a.grep(ca,function(a){return a.sceneIndex==b}),c[0].videoURL==B[0].opt.videoURL?(wa(),z.YTPSeekTo(c[0].startAt),ja.css("visibility","visible"),z.YTPPlay()):(c[0].autoPlay=!0,z.changeMovie(c[0]),B.one("YTPReady",function(){wa();a(this).YTPSeekTo(c[0].startAt);ja.css("visibility","visible");a(this).YTPPlay()}))}function wa(){K.css({opacity:"0",visibility:"hidden"})}function Ab(){Wa=!0;a.isFunction(g.onTeaserStart)&&g.onTeaserStart.call(b);Ga.hide();g.freezeOnBlur&&(ifvisible.on("blur",function(){q.freezeTeaser()}),
ifvisible.on("focus",function(){q.continueTeaser()}));"undefined"!==typeof n&&((!w||w&&!g.autoStart)&&Bb&&"paused"!=F||"playing"===F?(X(),n.paused=!1,b.trigger("STUnMuted"),F="playing"):(n.paused=!0,b.trigger("STMuted"),F="paused"));"single-image"===r&&Z.paused()&&Z.resume();"video-bg"===r&&(yb(xa),"youtube"===H&&ja.css("visibility","visible"),va(),M||"video-bg"!==r||fa||("html5"===H?k.muted()?b.trigger("STMuted"):b.trigger("STUnMuted"):B.isMute?b.trigger("STMuted"):b.trigger("STUnMuted")))}function Sa(){ra=
!0;b.trigger("STEnd");"undefined"!==typeof n&&Cb&&Ca();"video-bg"===r&&Db&&da();a.isFunction(g.onTeaserEnd)&&g.onTeaserEnd.call(b)}function Eb(){Z.pause()}function Ya(a){"single-image"===r&&a.set(N,{autoAlpha:0,onComplete:Eb,onCompleteParams:[]});"video-bg"===r&&a.set(I,{visibility:"hidden",onComplete:da,onCompleteParams:[]})}function qb(b,e,f,c,d){var p=c.trans,g=c.transDur,h=b.attr("id"),A,k=!1;0==e?(f=a(".extinct"),A="sven-nothing"):A=f.attr("id");if("no"==c.pursueImage){var E=ua.find("."+h+" img");
A=ua.find("."+A+" img, ."+Za+" img");$a=E;Za=h}else E=$a,A=a(".sven-not-found");W&&(c.sceneVideo||c.sceneImage&&"no"===c.pursueVideo||"no"===c.pursueVideo)&&(k=!0);d.addLabel(h+"-before");var u,l;u=b.find(".bt-container");if(0<u.length){var m=u.data().xStart?u.data().xStart:"-100%",n=u.data().fontMax?parseInt(u.data().fontMax):728;u.wrapInner("<div class='bt-wrapper'></div>");l=u.find(".bt-wrapper");l.bigtext({childSelector:"h1",maxfontsize:n,resize:!1});d.set(u,{x:m})}g="default"==g?1.4:parseFloat(g);
g/=2;u=a.grep(svenTransitions.vegas,function(a){return a.name==p});0!=e&&a.grep(svenTransitions.vegas,function(a){return a.name==f.data().trans});"fade-screen"==u[0].template?(d.to(ab,g,{autoAlpha:1,ease:Linear.easeNone}),Ya(d),d.set(f,{display:"none"}),k&&d.addLabel("hideP-"+e),0<E.length&&d.set(E,{autoAlpha:1})):("none"!=p&&Ya(d),d.set(f,{display:"none"}),k&&d.addLabel("hideP-"+e));d.set(b,{visibility:"visible"});l=u[0].type?u[0].type:"throughout";m=u[0].alphaDuration?parseFloat(u[0].alphaDuration):
.95;u[0].in[0].to.ease||(u[0].in[0].to.ease=Linear.easeNone);u[0].out&&!u[0].out[0].to.ease&&(u[0].out[0].to.ease=Linear.easeNone);"prior"==l&&(h+="-prior",d.addLabel(h+"-label"));v[h]=new TimelineMax;v[h+"-alpha"]=new TimelineMax;"no"==c.pursueImage&&v[h+"-alpha"].to(E,m,{autoAlpha:1},0);"fade-screen"==u[0].template&&v[h+"-alpha"].to(ab,g,{autoAlpha:0},0);v[h].data={};v[h].data.duration=u[0].in[0].duration?u[0].in[0].duration:"full";v[h].fromTo(E,1.08,u[0].in[0].from,u[0].in[0].to,0);0<A.length&&
v[h+"-alpha"].set(A,{autoAlpha:0});"prior"==l&&(g=u[0].in[0].duration?u[0].in[0].duration:1.5,d.add(v[h+"-alpha"],h+"-label"),d.add(v[h].duration(g),h+"-label"));k&&d.set({},{immediateRender:!1,onStart:bb,onStartParams:[]},"hideP-"+e);W&&c.sceneVideo&&d.set({},{immediateRender:!1,onComplete:zb,onCompleteParams:[e,b,c.videoType]})}function bb(){z&&(Y=!1,ja.css("visibility","hidden"));ea&&(V=!1,ea.css("visibility","hidden"));da()}function rb(b,e,f,c,d,p){var g=Fb(b,f,c,d),h=Gb(!1),k,J=0,E=f.cinOrder?
f.cinOrder:"onebyone",u=f.cinDelay?parseFloat(f.cinDelay):.25,n=f.coutOrder?f.coutOrder:E,r=f.coutDelay?parseFloat(f.coutDelay):u,q=f.cinPattern?f.cinPattern:"sequential",Ha=f.coutPattern?f.coutPattern:"reverse";d=d.get().slice(0);q=sortArray(q,d);Ha=sortArray(Ha,d);a.each(q,function(e,c){if(0<e)var b="cont-in-"+J;var f=a(c).data("order");J=f;var d="cont-in-"+f;h[d]=new TimelineMax;var t=cb(a(c),f,g,"in");db(a(c),f,g,t,m[l],h,h[d],"in");t.duration&&h[d].duration(t.duration);t.timeScale&&h[d].timeScale(t.timeScale);
k="onebyone"==E?"+=0":"sync"==E?0:"delayed"==E?e*u:0==e?"+=0":"-="+(h[b].duration()-h[b].duration()*u);h["in"].add(h[d],k)});"none"!=f.outDur&&a.each(Ha,function(e,c){if(0<e)var f="cont-out-"+J;var b=a(c).data("order");J=b;var d="cont-out-"+b;h[d]=new TimelineMax;var t=cb(a(c),b,g,"out");db(a(c),b,g,t,m[l],h,h[d],"out");t.duration&&h[d].duration(t.duration);t.timeScale&&h[d].timeScale(t.timeScale);k="onebyone"==n?"+=0":"sync"==n?0:"delayed"==n?e*r:0==e?"+=0":"-="+(h[f].duration()-h[f].duration()*
r);h.out.add(h[d],k)});m[l].set(c,{visibility:"visible"});m[l].addLabel(g.marker);Hb(b,h,e,f,g.marker,c,!1,p)}function Fb(b,e,f,c){var d={};d.marker=b.attr("id");var p=b.find(".centered"),k=p.css("max-width");0<=k.indexOf("%")&&(k=parseFloat(k)/100,k=Math.ceil(Ia*k)+"px");b=b.children();var h;b.hasClass("halign-left")?(h="place-left",d.slideAlignment="halign-left"):b.hasClass("halign-right")?(h="place-right",d.slideAlignment="halign-right"):(h="place-center",d.slideAlignment="halign-center");b=eb(f);
var A=0;c.each(function(c,b){a(this).data("order",c);d["content"+c]=a(this);var t=eb(a(this)),p=a(this).data().align?"place-"+a(this).data().align:h,l=a(this).data().boxType?a(this).data().boxType:"contain",m=a(this).data().delimiter?a(this).data().delimiter:" ",n,r,q="nowrap"==a(this).css("white-space")?!0:!1;n=a(this).data().sin?readCustomOptions(a(this).data().sin):{animation:"fade-in"};a(this).data().sout?r=readCustomOptions(a(this).data().sout):(e.outDur="none",r={animation:"zero-dur"});var v=
n.animation,w=r.animation,v=svenAnimations[v]?svenAnimations[v]:svenAnimations["fade-in"],w=svenAnimations[w]?svenAnimations[w]:svenAnimations["fade-out"];d["inConfig"+c]=v;d["outConfig"+c]=w;v.inherit&&(d["inConfig"+c]=a.extend(!0,{},svenAnimations[v.inherit],d["inConfig"+c]));w.inherit&&(d["outConfig"+c]=a.extend(!0,{},svenAnimations[w.inherit],d["outConfig"+c]));var z;z=g.easeOuterGPU?"":"gpu-hack";a(this).wrap("<div class='content-wrapper "+z+" content-wrapper-"+c+"' style='position:relative;width:100%;'></div>");
d["wrapper"+c]=f.find(".content-wrapper-"+c);"contain"===l&&a(this).css("display","inline-block");a(this).css({display:"block",position:"absolute",width:k,height:Math.ceil(a(this).outerHeight())+"px"}).addClass("place-left");l=[d["inConfig"+c].animateBy,d["outConfig"+c].animateBy];if("whole"==n.animateBy&&"whole"==r.animateBy||"whole"==v.animateBy&&"whole"==w.animateBy||a(this).find("img, a").length||"glitch"==n.animation){var Q;q&&(p+=" tof-fix");a(this).removeClass("place-left").addClass(p);(isFirefox||
isEdge||isIE)&&TweenMax.set(a(this),{rotationZ:"0.01deg"});d["wrapper"+c].css({height:Math.ceil(a(this).outerHeight())+"px"});Q=Math.ceil(a(this).outerWidth());Q>A&&(A=Q)}else{n=-1<l.indexOf("chars")?"words,chars,lines":"words,lines";r=g.easeOuterGPU?"":"gpu-hack";d["split"+c]=new SplitText(a(this),{type:n,wordsClass:"s-word "+r+" sven-word-++",charsClass:"s-char sven-char-++",linesClass:"s-line "+r+" sven-line-++",wordDelimiter:m,position:"absolute"});fb&&TweenMax.set(d["split"+c].chars,{force3D:!0,
rotationZ:"0.01deg"});a(this).removeClass("place-left").addClass(p);Q=0;var ya,y,x=d["split"+c].lines.length;a.each(d["split"+c].lines,function(e,c){var b=a(c).children().last();ya=parseInt(b.css("left"))+parseInt(b.css("width"));a(c).css({width:ya+"px",right:t.padRight+"px"}).addClass(p);ya>Q&&(Q=ya);e==x-1&&(y=parseInt(a(this).css("top"))+parseInt(a(this).css("height")))});a(this).css({width:Q+t.horz+"px",height:y+t.padBottom+"px"});d["wrapper"+c].css({height:y+t.padBottom+t.marTop+t.marBottom+
"px"});Q>A&&(A=Q+t.horz)}});f.css({width:A+b.horz+"px"});p.css({"max-width":A+b.horz+"px"});return d}function cb(b,e,f,c){var d={},p,g,h=f["split"+e];"in"==c?(c=readCustomOptions(b.data().sin),p=f["inConfig"+e],g="fade-in"):(c=readCustomOptions(b.data().sout),p=f["outConfig"+e],g="fade-out");d.animTitle=c.animation?c.animation:g;d.animTemplate=c.template?c.template:p.template;"rotator"==d.animTemplate?(p=a.extend({},svenDefaults.rotator,p),f["outConfig"+e]=a.extend({},svenDefaults.rotator,{template:"rotator"})):
p=a.extend({},svenDefaults.basic,p);d.pattern=c.pattern?c.pattern:p.pattern;d.ease=c.ease?parseEase(c.ease):p.ease;d.staggerDelay=c.staggerDelay?parseFloat(c.staggerDelay):p.staggerDelay;d.staggerDur=c.staggerDur?parseFloat(c.staggerDur):p.staggerDur;d.splitType=c.animateBy?c.animateBy:p.animateBy;d.duration=c.duration?parseFloat(c.duration):p.duration;d.timeScale=c.timeScale?parseFloat(c.timeScale):p.timeScale;d.wrapSplit=c.wrapSplit?parseBool(c.wrapSplit):p.wrapSplit;d.firstIn=c.firstIn?parseBool(c.firstIn):
p.firstIn;d.lastOut=c.lastOut?parseBool(c.lastOut):p.lastOut;d.rotFreeze=c.rotFreeze?parseFloat(c.rotFreeze):p.rotFreeze;d.overlapTime=c.overlapTime?parseFloat(c.overlapTime):p.overlapTime;d.perspective=p.perspective?p.perspective:"none";d.addTweens=p.addTweens?p.addTweens:"none";b.find("img, a").length&&(d.splitType="whole");if(d.wrapSplit&&"whole"!=d.splitType){var k=[],l,n,m;a.each(h[d.splitType],function(e,c){l="mod-sub el-sub-"+(e+1);a(c).find(".mod-sub").length||(a(c).css("overflow","hidden"),
n=a(c).outerWidth(),m=a(c).outerHeight(),a(c).wrapInner("<div class='"+l+"' style='width: "+n+"px; height: "+m+"px'></div>"),k.push(a(c).find(".el-sub-"+(e+1))[0]))});h[d.splitType]=k}return d}function db(a,e,b,c,d,p,g,h){var k=c.animTemplate;switch(k){case "basic":gb(a,e,b,c,d,g,h);break;case "misc":"in"==h&&Ib(a,e,b,c,d,p,g,"in");break;case "rotator":"in"==h&&Jb(a,e,b,c,d,g,"in");break;default:console.log('Please check your custom animation "'+k+'" have "template" mentioned in sven-animations.js'),
gb(a,e,b,c,d,g,h)}}function gb(b,e,f,c,d,p,g){b=Kb(e,c,f);g=Lb(e,g,f,{},{});var h=g.from,k=g.to,l={},n={};hb(c.addTweens,f["content"+e],d,b);if(is.obj(h.opacity)||is.obj(k.opacity))l.opacity=is.obj(h.opacity)?h.opacity.value:h.opacity,n.opacity=is.obj(k.opacity)?k.opacity.value:k.opacity,h.opacity.ease&&(l.ease=parseEase(h.opacity.ease)),inToObj.opacity.ease&&(n.ease=parseEase(k.opacity.ease));var m="basic-"+e,r=b.length;a.each(b,function(e,b){var d=aa(e,b,r,c.staggerDelay,!0),f=aa(e,b,r,c.staggerDur,
!1),t=m+"+="+d,g={},q={};a.each(h,function(a,c){ga(e,b,r,a,c,g,l,p,t)});a.each(k,function(a,c){ga(e,b,r,a,c,q,n,p,t)});a.isEmptyObject(l)||p.fromTo(a(b),f,l,n,t);p.fromTo(a(b),f,g,q,t)})}function Jb(b,e,f,c,d,p,g){b=f["split"+e].lines;var h=b.length;g=f["wrapper"+e].outerHeight()/h;1<h&&(d.set([f["wrapper"+e],f["content"+e]],{height:g+"px"}),d.set(b,{top:"0px",perspective:c.perspective}));hb(c.addTweens,f["content"+e],d,b);var k=f["inConfig"+e].rotIn.addTweens,l=f["inConfig"+e].rotOut.addTweens,n=
f["inConfig"+e].rotIn.staggerDelay,m=f["inConfig"+e].rotIn.staggerDur,r=f["inConfig"+e].rotOut.staggerDelay,q=f["inConfig"+e].rotOut.staggerDur,v=f["inConfig"+e].rotIn.from,w=f["inConfig"+e].rotIn.to,y=f["inConfig"+e].rotOut.from,z=f["inConfig"+e].rotOut.to,x={},B={};if(is.obj(v.opacity)||is.obj(w.opacity))x.opacity=is.obj(v.opacity)?v.opacity.value:v.opacity,B.opacity=is.obj(w.opacity)?w.opacity.value:w.opacity,v.opacity.ease&&(x.ease=parseEase(v.opacity.ease)),w.opacity.ease&&(B.ease=parseEase(w.opacity.ease));
a.each(b,function(e,b){var d=h;if("words"==c.splitType)var f=a(b).find(".s-word"),d=f.length;else if("chars"==c.splitType)f=a(b).find(".s-char"),d=f.length;else var f=a(b),t=e;var g="rotator-"+e,Ra="rotator-"+(e+1),f=a.map(f,function(a,e){return[a]}),f=sortArray(c.pattern,f);(0<e||0==e&&c.firstIn)&&a.each(f,function(e,b){t&&(e=t);var c=aa(e,b,d,n,!0),f=aa(e,b,d,m,!1),c=g+"+="+c,h={},l={};a.each(v,function(a,c){ga(e,b,d,a,c,h,x)});a.each(w,function(a,c){ga(e,b,d,a,c,l,x)});a.isEmptyObject(x)||p.fromTo(a(b),
f,x,B,c);p.fromTo(a(b),f,h,l,c);ib(e,b,d,k,p,c)});if(e!=h-1||c.lastOut&&e==h-1){var C=aa(e,b,d,c.rotFreeze,!1);p.set({},{},"+="+C);a.each(f,function(e,c){t&&(e=t);var b=aa(e,c,d,r,!0),f=aa(e,c,d,q,!1),b=Ra+"+="+b,h={},g={};a.each(y,function(a,b){ga(e,c,d,a,b,h,{})});a.each(z,function(a,b){ga(e,c,d,a,b,g,{})});p.fromTo(a(c),f,h,g,b);ib(e,c,d,l,p,b)})}})}function Ib(b,e,f,c,d,g,k,h){b=f["content"+e];e=f["wrapper"+e];if(100>b.outerHeight()){f=Math.ceil(b.outerHeight()-1);var l=1}else f=99,l=Math.ceil(b.outerHeight()/
100);var n=b.outerWidth();for(c=0;c<f;c++)e.append(b.clone());f=e.find("h1");f.each(function(e,b){d.set(a(b),{position:"absolute",left:0,top:0,x:0,opacity:1,clip:"rect("+l*e+"px, "+n+"px, "+l*(e+1)+"px, 0px)"})});d.set(e,{autoAlpha:0});g["in"].to(e,.75,{autoAlpha:1},0);f.each(function(e,b){g.repeat.to(a(this),.1,{x:randomInt(-5,5),opacity:randomFloat(.8,1),ease:RoughEase.ease.config({strength:5,points:50,template:SlowMo.ease,clamp:!1,taper:"out"})},0)});g["in"].add(g.repeat,"+=0.2");ka(g["in"],g.repeat,
f,1,!1,"+=0.1");ka(g["in"],g.repeat,f,.5,!1,"+=0.4");ka(g["in"],g.repeat,f,.5,!0,"+=3");ka(g["in"],g.repeat,f,.5,!1,"+=0.4");ka(g["in"],g.repeat,f,.5,!1,"+=2");g["in"].to(f,.25,{x:0,opacity:1,ease:RoughEase.ease.config({strength:5,points:50,template:SlowMo.ease,clamp:!1,taper:"out"})});g["in"].set(f,{x:0,opacity:1})}function ka(a,e,b,c,d,g){a.to(b,.25,{x:0,opacity:1,ease:RoughEase.ease.config({strength:5,points:50,template:SlowMo.ease,clamp:!1,taper:"out"})});a.add(e.tweenFromTo(0,e.duration()).timeScale(c),
g)}function ga(b,e,f,c,d,g,k,h,l){if("opacity"!=c||a.isEmptyObject(k))"addTweens"==c&&is.fnc(d)?d(b,e,f,h,l):g[c]=is.fnc(d)?d(b,e):d}function aa(a,e,b,c,d){return d?is.fnc(c)?c(a,e,b):is.arr(c)?c[a]?c[a]:c[0]:a*c:is.fnc(c)?c(a,e,b):is.arr(c)?c[a]?c[a]:c[0]:c}function ib(a,b,f,c,d,g){is.fnc(c)&&c(a,b,f,d,g)}function hb(a,b,f,c){is.fnc(a)&&a(b,f,c)}function Kb(a,b,f){a="lines"==b.splitType?f["split"+a].lines.slice(0):"words"==b.splitType?f["split"+a].words.slice(0):"chars"==b.splitType?f["split"+a].chars.slice(0):
f["content"+a];Array.isArray(a)&&(a=sortArray(b.pattern,a));return a}function Lb(b,e,f,c,d){var g={};"in"==e?f["inConfig"+b].rotIn?(g.from=a.extend({},c,f["inConfig"+b].rotIn.from),g.to=a.extend({},d,f["inConfig"+b].rotIn.to)):(g.from=a.extend({},c,f["inConfig"+b].from),g.to=a.extend({},d,f["inConfig"+b].to)):f["outConfig"+b].rotOut?(g.from=a.extend({},c,f["outConfig"+b].rotOut.from),g.to=a.extend({},d,f["outConfig"+b].rotOut.to)):(g.from=a.extend({},c,f["outConfig"+b].from),g.to=a.extend({},d,f["outConfig"+
b].to));return g}function eb(a){var b={};b.padTop=parseInt(a.css("padding-top"));b.padRight=parseInt(a.css("padding-right"));b.padBottom=parseInt(a.css("padding-bottom"));b.padLeft=parseInt(a.css("padding-left"));b.borTop=parseInt(a.css("border-top-width"));b.borRight=parseInt(a.css("border-right-width"));b.borBottom=parseInt(a.css("border-bottom-width"));b.borLeft=parseInt(a.css("border-left-width"));b.marTop=parseInt(a.css("margin-top"));b.marRight=parseInt(a.css("margin-right"));b.marBottom=parseInt(a.css("margin-bottom"));
b.marLeft=parseInt(a.css("margin-left"));b.horz=b.padLeft+b.padRight+b.borLeft+b.borRight;b.vert=b.padTop+b.padBottom+b.borTop+b.borBottom;return b}function Gb(a){var b={};b.in=new TimelineMax;b.out=new TimelineMax;b.full=new TimelineMax;a&&(b.repeat=new TimelineMax);return b}function Hb(k,e,f,c,d,l,n,h){var m="default"==c.freezeTime?1.5:parseFloat(c.freezeTime),r=c.sceneDelay?parseFloat(c.sceneDelay):0;e.full.addLabel(d+"-beforeIn");e.full.add(e["in"],"+="+r);e.full.addLabel(d+"-beforeFreeze");e.full.addLabel(d+
"-beforeOut","+="+m);"none"!=c.outDur?(e.full.add(e.out,d+"-beforeOut"),e.full.set(l,{visibility:"hidden"})):e.full.set({},{immediateRender:!1},d+"-beforeOut");b.hasClass("animate-colors")&&(l=f%g.colors.length,e.full.to(jb,e.full.duration(),{backgroundColor:g.colors[l]},0));n&&e.full.set({},{immediateRender:!1,onComplete:function(){e.repeat.resume()}});c.sceneDur&&e.full.duration(parseFloat(c.sceneDur));var q={};n=e.full.timeScale();q.in=e["in"].duration()/e["in"].timeScale()/n;q.out=e.out.duration()/
e.out.timeScale()/n;q.full=e.full.duration()/n;q.freeze=m/n;g.showAnimationSummary&&(m="in: "+q.in.toFixed(1)+"s<br/> out: "+q.out.toFixed(1)+"s<br/> freeze: "+q.freeze.toFixed(1)+"s<br/> scene: "+q.full.toFixed(1)+"s",e.full.set(Mb,{text:m},.1));m=k.find(".bt-container");if(0<m.length){n=m.data().animate?m.data().animate:"yes";l=m.data().xEnd?m.data().xEnd:"0%";var r=m.data().dur?parseFloat(m.data().dur):e["in"].duration(),u=m.data().ease?parseEase(m.data().ease):Power4.easeOut;"yes"===n?h.to(m,
r,{x:l,ease:u,force3D:!0,rotationZ:"0.01deg"},d):h.set(m,{x:"0%"},d)}h.add(e.full,d);la="no"==c.pursueImage?q.full:la+q.full;v[d]&&(h.add(v[d+"-alpha"],d),"full"==v[d].data.duration?h.add(v[d].duration(la),"-="+la):"in"==v[d].data.duration?h.add(v[d].duration(q.in),d):h.add(v[d].duration(v[d].data.duration),d),la=0);h.set({},{immediateRender:!1,onComplete:function(){a.isFunction(g.onBeforeScene)&&g.onBeforeScene.call(b,f,k,q,ba)}},d+"-before");e.full.set({},{immediateRender:!1,onComplete:function(){a.isFunction(g.onBeforeIn)&&
g.onBeforeIn.call(b,f,k,q,ba)}},d+"-beforeIn");e.full.set({},{immediateRender:!1,onComplete:function(){a.isFunction(g.onBeforeFreeze)&&g.onBeforeFreeze.call(b,f,k,q,ba)}},d+"-beforeFreeze");"none"!=c.outDur&&e.full.set({},{immediateRender:!1,onComplete:function(){a.isFunction(g.onBeforeOut)&&g.onBeforeOut.call(b,f,k,q,ba)}},d+"-beforeOut");h.set({},{immediateRender:!1,onComplete:function(){a.isFunction(g.onAfterScene)&&g.onAfterScene.call(b,f,k,q,ba)}},d+"-after")}var q=this,g=a.extend({},{autoStart:!0,
fullDuration:"default",globalFreeze:0,letterBoxing:!0,triggerProgress:!1,queueDelay:.05,force3DOnDevices:!1,easeOuterGPU:!1,preloadScenes:!1,waitForLoad:!1,forceLoadOnClick:!1,forceFallback:!0,videoOnMobiles:!0,preloadMethod:"xhr",preloadFiles:[],fileTimeout:8E3,audioTimeout:8E3,videoTimeout:8E3,initAfter:80,colors:["#E7464F","#CDAA20","#80993B","#07BABA","#9B2C9D"],showAnimationSummary:!1,freezeOnBlur:!0,videoPlaybackChange:!1,onTeaserReady:function(){},onTeaserStart:function(){},onTeaserEnd:function(){},
onBeforeScene:function(){},onBeforeIn:function(){},onBeforeFreeze:function(){},onBeforeOut:function(){},onAfterScene:function(){}},y),L="playing",Ja=!0,pa=!1,U=!1,Wa=!1,ra=!1,C,T=[],P=[],ca=[],r,m={},v={},l=b.attr("id"),kb,w=isMobile.any,W=w&&!g.videoOnMobiles?!1:!0,Ia=a(window).width(),Ba,Ka=0,sa=0,ba,$a,Za="sven-default",la=0,fb=!0,lb="",M=b.attr("data-enable-sound")?parseBool(b.attr("data-enable-sound")):!1,Nb=b.attr("data-sound-loop")?parseBool(b.attr("data-sound-loop")):!1,Bb=b.attr("data-auto-play-sound")?
parseBool(b.attr("data-auto-play-sound")):!0,Cb=b.attr("data-auto-stop-sound")?parseBool(b.attr("data-auto-stop-sound")):!1,F,qa,mb,Z,ha=b.attr("data-static-image")?parseBool(b.attr("data-static-image")):!1,La=b.attr("data-mobile-image")?parseBool(b.attr("data-mobile-image")):!1,ia=b.data().staticImagePos?b.data().staticImagePos:"center center",za=b.data().zoomOrigin?b.data().zoomOrigin:"center center",nb=b.data().zoomType?b.data().zoomType:"in",Ma=b.data().zoomDur?parseFloat(b.data().zoomDur):"auto",
ma=b.data().zoomScale?parseFloat(b.data().zoomScale):!1,Na=b.attr("data-splash-image")?parseBool(b.attr("data-splash-image")):!1,ob=b.attr("data-placeholder-image")?parseBool(b.attr("data-placeholder-image")):"images/1x1.png",Fa=!1,R=!1,V=!1,Y=!1,na=!1,H=b.data().videoType?b.data().videoType:"html5",fa=b.attr("data-mute-video")?parseBool(b.attr("data-mute-video")):!0,Ob=b.data().videoQuality?b.data().videoQuality:"highres",xa=b.data().videoStart?parseInt(b.data().videoStart):.01,Aa=b.data().videoStop?
parseInt(b.data().videoStop):0,Oa=b.attr("data-video-loop")?parseBool(b.attr("data-video-loop")):!0,Db=b.attr("data-auto-stop-video")?parseBool(b.attr("data-auto-stop-video")):!1,Ua=isMobile.apple.device&&g.forceLoadOnClick||w&&g.autoStart,Pa="click";isMobile.apple.device&&(Pa="touchstart");isMobile.any&&g.forceFallback&&(lb="vid-fallback");r=b.data().staticVideo&&W?"video-bg":ha||La?"single-image":"assorted";qa=Nb?-1:0;w&&b.data().mobileSound&&(M=b.data().mobileSound);w&&!g.force3DOnDevices&&(fb=
!1);w&&La&&(ha=La);var G="<div class='slideshow-wrapper abs-fs'><div class='slideshow-overlay abs-fs'></div></div>";"single-image"===r?(w&&(ia=b.data().mobileImagePos?b.data().mobileImagePos:"center center"),ia=ia.split(" "),T.push({id:"static-image",family:"static-image",alignX:ia[0],alignY:ia[1],src:ha,loadTimeout:g.fileTimeout}),G=G+"<div class='single-wrapper abs-fs'><div class='single-overlay abs-fs'></div><div class='single-image abs-fs'><img src='"+ob+"' width='1' height='1' data-object-position='"+
ia+"' alt=''/></div></div><div class='black-bg abs-fs'></div>"):("video-bg"===r&&ha&&T.push({id:"preview-image",family:"preview-image",src:ha,loadTimeout:g.fileTimeout}),G+="<div class='black-bg gpu-hack abs-fs'></div>");g.letterBoxing&&(G+="<div class='lbox-top'></div><div class='lbox-bottom'></div>");G=G+"<div class='video-wrapper "+lb+" abs-fs'><div class='preview-image abs-fs bg-cover'></div></div><div class='splash-wrapper abs-fs'><div class='splash-overlay abs-fs'></div><div class='splash-image abs-fs bg-cover'></div></div><div class='color-wrapper gpu-hack abs-fs'></div>";
g.showAnimationSummary&&(G+="<div id='summary-handle'><i class='fa fa-info'></i></div><div id='summary-container'><div class='details'><h3 class='animation-name'></h3><p class='scene-info'></p><h3 class='total-duration'></h3></div></div>");b.wrap("<div class='sven-wrapper'></div>").after(G);var D=b.parent(),ua=D.find(".slideshow-wrapper"),N=D.find(".single-image"),ab=D.find(".black-bg"),K=D.find(".preview-image"),I=D.find(".video-wrapper"),jb=D.find(".color-wrapper"),Ga=D.find(".splash-wrapper"),
Xa=Ga.find(".splash-image");g.autoStart&&(Na=!1,Ga.hide());b.hasClass("animate-colors")&&jb.css({"background-color":g.colors[0]});var pb=D.find("#summary-handle");D.find("#summary-container .animation-name");var Mb=D.find("#summary-container .scene-info"),Pb=D.find("#summary-container .total-duration");Na&&T.push({id:"splash-image",family:"splash-image",src:Na,loadTimeout:g.fileTimeout});0<g.preloadFiles.length&&a.each(g.preloadFiles,function(a,b){T.push({src:b,family:"user-files",loadTimeout:g.fileTimeout})});
b.find(".sven-slide").each(function(b,e){var f;if(a(this).data().sceneImage||a(this).data().mobileImage){a(this).data().sceneImage&&(f=a(this).data().sceneImage);w&&a(this).data().mobileImage&&(f=a(this).data().mobileImage);if(f){var c;c=w?a(this).data().mobileImagePos?a(this).data().mobileImagePos:"center center":a(this).data().sceneImagePos?a(this).data().sceneImagePos:"center center";c=c.split(" ");T.push({id:a(this)[0].id,family:"scene-image",src:f,alignX:c[0],alignY:c[1],loadTimeout:g.fileTimeout})}W&&
a(this).data().sceneVideo||(a(this).data().sceneImage||w&&a(this).data().mobileImage)&&ua.append("<div class='scene-image gpu-hack "+a(this)[0].id+" abs-fs'><img src='"+ob+"' data-object-position='"+c+"' width='1' height='1' alt=''/></div>")}if(W)if("html5"==a(this).data().videoType){f=a(this).attr("data-mute-video")?parseBool(a(this).attr("data-mute-video")):!0;c=a(this).data().videoStart?parseInt(a(this).data().videoStart):0;var d=a(this).data().videoStop?parseInt(a(this).data().videoStop):0,k=
a(this).attr("data-video-loop")?parseBool(a(this).attr("data-video-loop")):!1;f={videoURL:a(this).data().sceneVideo,mute:f,startAt:c,stopAt:d,loop:k,sceneIndex:b};P.push(f)}else if("youtube"==a(this).data().videoType){f=a(this).attr("data-mute-video")?parseBool(a(this).attr("data-mute-video")):!0;var l=a(this).data().videoQuality?a(this).data().videoQuality:"highres";c=a(this).data().videoStart?parseInt(a(this).data().videoStart):.01;d=a(this).data().videoStop?parseInt(a(this).data().videoStop):0;
k=a(this).attr("data-video-loop")?parseBool(a(this).attr("data-video-loop")):!1;f={autoPlay:!1,showYTLogo:!1,stopMovieOnBlur:!1,showControls:!1,opacity:1,videoURL:a(this).data().sceneVideo,containment:"."+I[0].className.split(" ")[0],quality:l,mute:f,startAt:c,stopAt:d,loop:k,sceneIndex:b};ca.push(f)}});if(W&&(0<P.length||0<ca.length||"video-bg"===r)){"video-bg"!=r&&M?fa=!0:fa||(M=!1);if("video-bg"===r&&"html5"===H||0<P.length){var O,k,ea;"video-bg"===r&&"html5"===H?(K.css({opacity:"1",visibility:"visible"}),
O=x(Oa,b.data().staticVideo,fa),k=O.getPlayer(),k.off("ended"),k.currentTime(xa),k.on("loadeddata",function(){ea.css("visibility","visible");TweenMax.to(K,.5,{autoAlpha:0});k.on("timeupdate",function(){if(0!=Aa&&k.currentTime()>=Aa||0==Aa&&k.currentTime()>=k.duration())Oa?(k.loop(!0),k.currentTime(xa),k.play()):(R=!0,k.pause())})})):(O=x(P[0].loop,P[0].videoURL,P[0].mute),k=O.getPlayer(),k.off("ended"),k.currentTime(P[0].startAt),k.one("loadeddata",function(){Fa=!0}));ea=I.find("#big-video-wrap");
ea.append("<div class='bv-overlay abs-fs'></div>")}if("video-bg"===r&&"youtube"===H||0<ca.length){"video-bg"===r&&"youtube"===H?(K.css({opacity:"1",visibility:"visible"}),I.append("<div id='bgndVideo' class='player' data-property='{showYTLogo: false, loop: "+Oa+', stopMovieOnBlur: false, quality: "'+Ob+'",showControls: false, videoURL: "'+b.data().staticVideo+'", containment:".'+I[0].className.split(" ")[0]+'", autoPlay: false, mute: '+fa+", startAt: "+xa+", stopAt: "+Aa+", opacity: 1}'>My video</div>")):
I.append("<div id='bgndVideo' class='player' data-property="+JSON.stringify(ca[0])+">My video</div>");var z=I.find("#bgndVideo"),ja,B=z.YTPlayer({onError:function(a,b){B.trigger("YTPError");na=!0}}),Qa=0;B.on("YTPTime",function(){0==Qa&&(Qa+=1,setTimeout(function(){na=!0;B.trigger("YTPError")},g.videoTimeout))});B.on("YTPReady",function(){ja=I.find(".mbYTP_wrapper");na=!0});B.on("YTPEnd",function(){"video-bg"===r?R=!0:Y=!1})}}var Va=M,oa="sound-"+l,n;M&&Ua&&(a(".sound-info").show(),window.addEventListener(Pa,
function e(){"tag"==g.preloadMethod&&createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]);createjs.Sound.alternateExtensions=["ogg"];createjs.Sound.addEventListener("fileload",xb);createjs.Sound.registerSound({id:oa,src:Va});window.removeEventListener(Pa,e,!1);a(".sound-info").remove()},!1));q.init=function(){q.start(b,"start",g.autoStart);if(g.showAnimationSummary)pb.on("click",function(a){pb.toggleClass("active")});return q};q.start=function(b,f,c){kb=b.clone(!0);Ka+=1;a(".scene-image img").css({opacity:"0",
visibility:"hidden"});m[l]=new TimelineMax({paused:!0,delay:.5,repeat:0,onStart:Ab});if("single-image"===r){var d=m[l];Z=new TimelineMax({delay:0});var k=d.totalDuration();mb=k+.75;ma&&(Z.addLabel("imageZoomer"),d.add(Z,k));d.to(N,.75,{opacity:1})}b=b.find(".sven-slide");S(0,b,b.length,c,f);c=f=m[l].totalDuration();"default"!=g.fullDuration&&0<g.fullDuration&&(c=g.fullDuration,m[l].totalDuration(c));g.showAnimationSummary&&(b="Teaser Duration: "+c.toFixed(1)+"s",Pb.html(b));ba=m[l].timeScale();"single-image"===
r&&ma&&(b=new TimelineMax({delay:0}),f="auto"===Ma||isNaN(Ma)?((f-mb)/f*c).toFixed(1):Ma,"in"===nb?b.fromTo(N,f,{scale:1},{scale:ma,rotation:.01,transformOrigin:za}):"out"===nb?b.fromTo(N,f,{scale:ma},{scale:1,rotation:.01,transformOrigin:za}):(b.fromTo(N,f/2,{scale:1},{scale:ma,rotation:.01,transformOrigin:za}),b.to(N,f/2,{scale:1,rotation:.01,transformOrigin:za})),Z.add(b,"imageZoomer"));g.preloadScenes&&m[l].set({},{immediateRender:!1,onComplete:Sa})};q.play=function(a){"start"===a?m[l].play():
(m[l].play(a),"undefined"!==typeof n&&("paused"==F||U||X()));b.trigger("STPlay")};q.seek=function(a){m[l].seek(a);b.trigger("STPause")};q.restart=function(){m[l].restart()};q.pause=function(){m[l].pause();b.trigger("STPause")};q.continueTeaser=function(){m[l].paused()&&"playing"==L?(m[l].resume(),b.trigger("STPlay"),"video-bg"!==r||R||va(),Ea(),"undefined"==typeof n||"paused"===F||U||X()):1<=m[l].progress()&&Ja&&(Ja=!1,"video-bg"!==r||R||va(),Ea(),"paused"===F||U||"undefined"===typeof n||(n.paused=
!1,b.trigger("STUnMuted")))};q.freezeTeaser=function(){m[l].paused()||"playing"!=L||1<=m[l].progress()?1<=m[l].progress()&&(Ja=!0,"video-bg"!==r||R||da(),Da(),"undefined"===typeof n||U||(n.paused=!0,b.trigger("STMuted"))):(m[l].pause(),"video-bg"!==r||R||da(),Da(),b.trigger("STPause"),"undefined"===typeof n||U||(n.paused=!0,b.trigger("STMuted")))};q.pauseTeaser=function(){m[l].pause();"video-bg"!==r||R||da();Da();b.trigger("STPause");"undefined"!==typeof n&&(n.paused=!0,b.trigger("STMuted"));L="paused"};
q.playTeaser=function(){m[l].resume();b.trigger("STPlay");"video-bg"!==r||R||va();Ea();"undefined"!=typeof n&&"paused"!==F&&X();L="playing"};a.fn.svenPlugin.skipToLast=function(){return m[l].currentLabel()!=Ba?(m[l].seek(Ba,!1).play(),"undefined"!==typeof n&&("paused"==F||U||X()),!0):!1};a.fn.svenPlugin.togglePlay=function(){m[l].paused()?q.playTeaser():1<=m[l].progress()?("video-bg"!=r&&bb(),U=Y=V=ra=R=!1,m[l].restart(),b.trigger("STPlay"),L="playing"):q.pauseTeaser()};a.fn.svenPlugin.playTeaser=
function(){q.playTeaser()};a.fn.svenPlugin.pauseTeaser=function(){q.pauseTeaser()};a.fn.svenPlugin.toggleSound=function(){M?n.paused?(X(),F="playing"):"playFinished"!=n.playState&&(n.paused=!0,b.trigger("STMuted"),F="paused"):"video-bg"!==r||fa||("html5"===H?k.muted()?(b.trigger("STUnMuted"),k.muted(!1)):(b.trigger("STMuted"),k.muted(!0)):B.isMute?(b.trigger("STUnMuted"),z.YTPUnmute(),B.isMute=!1):(b.trigger("STMuted"),z.YTPMute(),B.isMute=!0))};a.fn.svenPlugin.changeSpeed=function(a){g.videoPlaybackChange&&
(O&&k.playbackRate(a),z&&z.YTPGetPlayer().setPlaybackRate(a));a*=ba;m[l].timeScale(a)};ha||M||0<T.length?g.waitForLoad?a(window).load(function(){Ta()}):Ta():g.waitForLoad?a(window).load(function(){ta()}):ta();a(window).on("debouncedresize",function(e){if(0<Ka&&!ra){if(!w||a(window).width()!=Ia){Ia=a(window).width();e=m[l].paused()?!1:!0;var f=m[l].time();m[l].kill();TweenMax.killDelayedCallsTo(S);b.remove();b=kb;D.prepend(b);g.preloadScenes||(a("html").addClass("stompresize"),f="start",b.trigger("reinitialize"));
q.start(b,f,e)}}else console.log("TEASER NOT YET INITIALIZED (or) ENDED")})};a.fn.svenPlugin=function(b){var y=this;return this.each(function(){if(void 0==a(this).data("svenPlugin")){var x=new a.svenPlugin(y,b);a(this).data("svenPlugin",x)}})}})(jQuery);function sortArray(a,b){switch(a){case "sequential":return b;case "reverse":return b.reverse();case "random":return shuffleArray(b);case "median":return centerArray(b);case "reverse-median":return centerArray(b).reverse();default:return b}}
function shuffleArray(a){for(var b=a.length-1;0<b;b--){var y=Math.floor(Math.random()*(b+1)),x=a[b];a[b]=a[y];a[y]=x}return a}function centerArray(a){for(var b=[],y=Math.ceil(a.length/2),x=y-1;0<=x;)b.push(a[x--]),y<a.length&&b.push(a[y++]);return b}function parseEase(a){var b=a.split(".");if(2===b.length)return window[b[0]][b[1]];a=a.match(/true|false|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig).map(JSON.parse);return window[b[0]][b[1]].config.apply(null,a)}
function randomInt(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function randomFloat(a,b){return(Math.random()*(b-a)+a).toFixed(1)}
var is={arr:function(a){return Array.isArray(a)},obj:function(a){return-1<Object.prototype.toString.call(a).indexOf("Object")},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||is.svg(a)},num:function(a){return!isNaN(parseInt(a))},float:function(a){return a===+a&&a!==(a|0)},str:function(a){return"string"===typeof a},fnc:function(a){return"function"===typeof a},und:function(a){return"undefined"===typeof a},nul:function(a){return"null"===typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},
rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return is.hex(a)||is.rgb(a)||is.hsl(a)}};function lineEq(a,b,y,x,S){a=(a-b)/(y-x);return a*S+(b-a*x)}function readCustomOptions(a){var b,y,x,S={};x=(a||"").replace(/\s/g,"").split(";");a=0;for(b=x.length-1;a<=b;a++)y=x[a].split(":"),S[y[0]]=y[1];return S};
